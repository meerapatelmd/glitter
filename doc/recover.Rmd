---
title: "Recover a Lost File"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Recover a Lost File}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  cache = TRUE
)
```

```{r setup,message=FALSE}
library(glitter)
```


My long lost file from the working directory is `R/destroy.R`. I then get the commit history of that file using the full path. 

```{r, eval=TRUE}

list_file_commits(file = "R/destroy.R")

```

By default, this file is recovered using the most recent commit automatically.

```{r,echo=FALSE,eval=TRUE}
# QA for vignette to run correctly 
if (file.exists("R/destroy.R")) {
    file.remove("R/destroy.R")
} 
```

I first check to make sure this file does not already exist. 

```{r}
file.exists("R/destroy.R")
```

I recover the lost file:  

```{r}
recover_lost_file(file = "R/destroy.R")
```

QA to make sure that the file now is present:  

```{r}
file.exists("R/destroy.R")
```

However, a version of the file from a commit before the most recent one is desired, the SHA can be entered to retrieve that version instead. 

```{r}
file.remove("R/destroy.R")
```

```{r}
recover_lost_file(file = "R/destroy.R", 
                  sha = "aa448c7de4ead65905dfb3133ec42ac8a6f332fc")
```


```{r}
file.exists("R/destroy.R")
```

```{r,echo=FALSE,eval=TRUE}
file.remove("R/destroy.R")
```

